# ARIA - KWCAG 2.2 웹 접근성 자동 점검 도구

> 웹 접근성 점검 도구 비교 분석 및 ARIA 도입 제안서

---

## 1. 개요

ARIA는 KWCAG 2.2(한국형 웹 콘텐츠 접근성 지침 2.2) 전체 33개 검사항목을 자동으로 점검하는 CLI 도구입니다.
axe-core 국제 표준 엔진 위에 9개 한국 특화 커스텀 룰을 추가하여, 단일 바이너리로 즉시 실행 가능합니다.

| 항목 | 기존 방식 | ARIA |
|------|----------|------|
| 점검 방식 | 수작업 / 크롬 확장 / 외부 위탁 | CLI 자동화 |
| 배포 | 도구별 설치 필요 | 단일 바이너리 (59MB) |
| 표준 | WCAG (한국 미특화) | KWCAG 2.2 전체 33항목 |
| 사이트 전체 | 페이지별 수작업 | 크롤링 + 자동 스캔 |
| 리포트 | 브라우저 표시 / 수작업 문서 | Excel / HTML / JSON 자동 생성 |
| CI/CD | 불가 or 유료 API | `--ci` 모드, exit code 연동 |
| 커스텀 룰 | 불가 | 9개 한국 특화 룰 + 확장 가능 |
| 오프라인 | 대부분 불가 | 완전 오프라인 동작 |

---

## 2. 왜 웹 접근성 점검이 필요한가

### 법적 의무

- **장애인차별금지법** (2008~): 모든 공공기관, 법인 웹사이트는 웹 접근성을 의무 준수
- **전자정부법**: 전자정부 서비스는 장애인이 이용 가능하도록 접근성 보장 의무
- **지능정보화기본법**: 정보통신 서비스 제공자는 접근성 보장 의무
- 미준수 시 **차별시정명령**, **손해배상** 가능

### 감리 필수 점검 항목

정보시스템 감리 기준(과학기술정보통신부 고시)에 따라, 웹 기반 정보시스템은 KWCAG 2.2 준수 여부를 점검합니다.

| 감리 구분 | 접근성 점검 |
|----------|-----------|
| 공공 SI 프로젝트 | 필수 (전체 33항목) |
| 공공 웹사이트 리뉴얼 | 필수 |
| 모바일 앱 | MWCAG 2.0 별도 |
| 민간 대기업 웹 | 권고 (2025년부터 단계적 의무화) |

### 인증 제도

- **웹 접근성 품질인증 (WA 인증)**: 과기부 지정 인증기관이 33항목 전수 검사
- 인증 비용: 건당 300~500만원 (페이지 수에 따라 상이)
- 인증 유효 기간: 1년 → 매년 갱신 필요

---

## 3. 경쟁 도구 1:1 비교

### 3.1 OpenWAX (크롬 확장)

한국 웹 접근성 연구소에서 개발한 크롬 브라우저 확장 프로그램입니다.

| 기능 | OpenWAX | ARIA |
|------|---------|------|
| 가격 | 무료 | 자체 라이선스 |
| 실행 방식 | 크롬 브라우저 확장 | CLI 단일 바이너리 |
| 자동화 | 수동 (페이지별 클릭) | CLI 자동화, cron 연동 |
| KWCAG 버전 | KWCAG 2.1 (일부) | KWCAG 2.2 전체 33항목 |
| 사이트 전체 점검 | 불가 (1페이지씩) | 크롤링 + 자동 스캔 |
| 리포트 | 브라우저 화면 표시 | Excel 3시트 / HTML / JSON |
| CI/CD | 불가 | `--ci` 모드 |
| 커스텀 룰 | 불가 | 9개 + 확장 가능 |
| 오프라인 | 가능 (확장 설치 후) | 가능 |
| 다중 페이지 | 수동 반복 | `--max-pages 50` |
| 스크립트 연동 | 불가 | bash/Python 파이프라인 |

**ARIA 차별점:**
- 50페이지 사이트를 OpenWAX로 점검하면 페이지별 수동 클릭 → **반나절 이상** 소요
- ARIA는 `./aria crawl https://site.go.kr --max-pages 50` 한 줄로 **수 분 내** 자동 완료
- Excel 감리 납품물 자동 생성 (요약 시트 + 상세 위반 시트 + 33항목 체크리스트 시트)

---

### 3.2 WAVE (WebAIM)

미국 WebAIM에서 개발한 웹 접근성 평가 도구입니다.

| 기능 | WAVE | ARIA |
|------|------|------|
| 가격 | 브라우저 확장 무료 / API 유료 ($10/100건) | 자체 라이선스 |
| 표준 | WCAG 2.2 (국제) | KWCAG 2.2 (한국) |
| 한국 특화 | 없음 | 9개 커스텀 룰 (건너뛰기, 자동재생, 표 구성 등) |
| 한국어 | 영어만 | 한국어 리포트 |
| 실행 방식 | 브라우저 / API | CLI 단일 바이너리 |
| 사이트 전체 | API (유료, 건당 과금) | 크롤링 무제한 |
| 리포트 | 브라우저 오버레이 | Excel / HTML / JSON |
| CI/CD | API 연동 (유료) | `--ci` 모드 (무료) |
| 오프라인 | 불가 (API는 클라우드) | 완전 오프라인 |
| 민감 사이트 | 외부 서버 전송 | 로컬 처리, 데이터 유출 없음 |

**ARIA 차별점:**
- WAVE는 WCAG 국제 표준 기준으로 점검 → KWCAG 2.2 한국 특화 항목 미대응
- KWCAG 고유 항목 (반복 영역 건너뛰기, 자동 재생 금지, 표의 구성 등)은 커스텀 룰로만 점검 가능
- WAVE API는 건당 과금 ($0.10/건) → 50페이지 사이트 매주 점검 시 연 $260
- ARIA는 크롤링 무제한, 추가 비용 없음

---

### 3.3 pa11y

오픈소스 Node.js 기반 접근성 테스트 도구입니다.

| 기능 | pa11y | ARIA |
|------|-------|------|
| 가격 | 무료 (오픈소스) | 자체 라이선스 |
| 엔진 | HTML_CodeSniffer / axe-core | axe-core + 9 커스텀 룰 |
| 표준 | WCAG 2.1 AA | KWCAG 2.2 전체 |
| KWCAG 매핑 | 없음 | 33항목 매핑 테이블 |
| 설치 | Node.js + npm install | 단일 바이너리 (제로 설치) |
| 사이트 크롤링 | pa11y-ci (별도 설정) | `crawl` 명령어 내장 |
| DB 저장 | 없음 | SQLite 내장 |
| 리포트 | JSON/CSV | Excel 3시트 / HTML / JSON |
| 한국어 | 영어 | 한국어 |
| 원칙별 통계 | 없음 | 4원칙별 준수율 자동 계산 |

**ARIA 차별점:**
- pa11y는 axe-core 결과를 그대로 출력 → KWCAG 항목 번호/이름으로 매핑하지 않음
- 감리 납품물에는 "5.1.1 적절한 대체 텍스트 제공" 형식이 필요 → pa11y는 재가공 필수
- ARIA는 axe-core 룰 ID → KWCAG 번호 자동 매핑 + 원칙별 준수율 계산까지 내장

---

### 3.4 Google Lighthouse

Chrome DevTools에 내장된 웹 품질 분석 도구입니다.

| 기능 | Lighthouse | ARIA |
|------|-----------|------|
| 가격 | 무료 | 자체 라이선스 |
| 접근성 점수 | 0~100점 (axe-core 기반) | 33항목별 통과/실패/부분 |
| 표준 | WCAG (점수 산출) | KWCAG 2.2 (항목별 판정) |
| KWCAG 매핑 | 없음 | 33항목 전체 매핑 |
| 사이트 전체 | 1페이지씩 | 크롤링 + 자동 스캔 |
| 한국 특화 룰 | 없음 | 9개 커스텀 룰 |
| 감리 리포트 | 없음 | Excel 3시트 (요약/상세/체크리스트) |
| CI/CD | Lighthouse CI | `--ci` 모드 |

**ARIA 차별점:**
- Lighthouse 접근성 점수 85점 = KWCAG 2.2 몇 항목 통과인지 알 수 없음
- 감리에서는 "33항목 중 몇 개 통과, 어떤 항목이 위반"인지가 필요
- ARIA는 KWCAG 번호별 통과/실패/미해당을 명확히 구분, 원칙별 준수율 제공

---

### 3.5 전문 업체 위탁

웹 접근성 품질인증(WA 인증) 전문 컨설팅 업체에 위탁하는 방식입니다.

| 기능 | 전문 업체 위탁 | ARIA |
|------|--------------|------|
| 비용 | 건당 300~500만원 | 자체 라이선스 |
| 소요 기간 | 2~4주 | 수 분 (자동) |
| 점검 범위 | 수동 전수 (33항목) | 자동 15항목 + 부분 15항목 + 수동 3항목 |
| 결과 품질 | 전문가 판단 포함 | 자동 점검 결과 (사전 스크리닝) |
| 반복 점검 | 건당 비용 발생 | 무제한 반복 |
| CI/CD | 불가 | 자동화 |
| 정기 모니터링 | 추가 비용 | cron + CLI |

**ARIA 활용 시나리오:**
- ARIA로 자동 점검 → 자동 수정 가능한 위반 사항 사전 해결 → 전문 업체 수동 점검 범위 최소화
- 사전 스크리닝으로 위탁 비용 30~50% 절감 가능
- 개발 중 매일 자동 점검 → 출시 시점에 접근성 위반 최소화

---

## 4. KWCAG 2.2 — 33항목 점검 상세

### 4.1 원칙 1: 인식의 용이성 (9항목)

| KWCAG | 검사항목 | 수준 | 자동점검 | ARIA 구현 |
|-------|--------|------|---------|----------|
| 5.1.1 | 적절한 대체 텍스트 제공 | A | O | axe: image-alt, input-image-alt, area-alt |
| 5.2.1 | 자막 제공 | A | 부분 | axe: video-caption + track 존재 여부 |
| 5.3.1 | 표의 구성 | A | O | axe: td-headers-attr + **커스텀: caption, scope** |
| 5.3.2 | 콘텐츠의 선형구조 | A | 부분 | axe: bypass, heading-order |
| 5.3.3 | 명확한 지시사항 제공 | A | 부분 | 감각 의존 텍스트 패턴 탐지 |
| 5.4.1 | 색에 무관한 콘텐츠 인식 | A | 부분 | axe: link-in-text-block |
| 5.4.2 | 자동 재생 금지 | A | O | **커스텀: autoplay 속성, iframe 자동재생** |
| 5.4.3 | 텍스트 명도 대비 | AA | O | axe: color-contrast (4.5:1 계산) |
| 5.4.4 | 콘텐츠 간의 구분 | A | 부분 | 인접 콘텐츠 border/margin 검사 |

### 4.2 원칙 2: 운용의 용이성 (15항목)

| KWCAG | 검사항목 | 수준 | 자동점검 | ARIA 구현 |
|-------|--------|------|---------|----------|
| 6.1.1 | 키보드 사용 보장 | A | O | axe: focusable, tabindex |
| 6.1.2 | 초점 이동과 표시 | A | O | **커스텀: :focus outline, tabindex 양수** |
| 6.1.3 | 조작 가능 | AA | O | axe: target-size (44x44px) |
| 6.1.4 | 문자 단축키 | A | 부분 | accesskey 중복/충돌 검사 |
| 6.2.1 | 응답시간 조절 | A | 부분 | meta refresh, setTimeout 패턴 |
| 6.2.2 | 정지 기능 제공 | A | 부분 | auto-slider, marquee 탐지 |
| 6.3.1 | 깜빡임과 번쩍임 사용 제한 | A | 부분 | **커스텀: blink/marquee, CSS 애니메이션 주기** |
| 6.4.1 | 반복 영역 건너뛰기 | A | O | **커스텀: skip-navigation 링크 탐지** |
| 6.4.2 | 제목 제공 | A | O | axe: document-title + **커스텀: iframe title, 제목 수준** |
| 6.4.3 | 적절한 링크 텍스트 | A | O | axe: link-name + **커스텀: "여기", "클릭" 탐지** |
| 6.4.4 | 고정된 참조 위치 정보 | AA | 부분 | sitemap, breadcrumb 존재 여부 |
| 6.5.1 | 단일 포인터 입력 지원 | A | 부분 | 복잡한 제스처 이벤트 탐지 |
| 6.5.2 | 포인터 입력 취소 | A | 수동 | mousedown 기능 실행 패턴 |
| 6.5.3 | 레이블과 네임 | A | O | axe: label, aria-label 일치 |
| 6.5.4 | 동작기반 작동 | A | 수동 | devicemotion 이벤트 탐지 |

### 4.3 원칙 3: 이해의 용이성 (7항목)

| KWCAG | 검사항목 | 수준 | 자동점검 | ARIA 구현 |
|-------|--------|------|---------|----------|
| 7.1.1 | 기본 언어 표시 | A | O | axe: html-has-lang + **커스텀: lang 유효성** |
| 7.2.1 | 사용자 요구에 따른 실행 | A | 부분 | **커스텀: onchange 자동 submit 탐지** |
| 7.2.2 | 찾기 쉬운 도움 정보 | A | 부분 | 도움말/FAQ 링크 존재 여부 |
| 7.3.1 | 오류 정정 | A | 부분 | aria-invalid, role=alert |
| 7.3.2 | 레이블 제공 | A | O | axe: label, input-label 연결 |
| 7.3.3 | 접근 가능한 인증 | AA | 부분 | CAPTCHA 대체 수단 |
| 7.3.4 | 반복 입력 정보 | A | 수동 | autocomplete 속성 |

### 4.4 원칙 4: 견고성 (2항목)

| KWCAG | 검사항목 | 수준 | 자동점검 | ARIA 구현 |
|-------|--------|------|---------|----------|
| 8.1.1 | 마크업 오류 방지 | A | O | axe: duplicate-id-aria, 닫히지 않은 태그 |
| 8.2.1 | 웹 애플리케이션 접근성 준수 | A | O | axe: ARIA 속성 검증 전체 |

### 점검 커버리지 요약

| 구분 | 항목수 | 비율 | 설명 |
|------|--------|------|------|
| 완전 자동 (O) | 15 | 45% | axe-core + 커스텀 룰로 자동 판정 |
| 부분 자동 | 15 | 45% | 패턴 탐지 기반 보조 정보 제공 |
| 수동 | 3 | 10% | 자동화 불가 (6.5.2, 6.5.4, 7.3.4) |
| **합계** | **33** | **100%** | |

---

## 5. 9개 한국 특화 커스텀 룰 상세

axe-core가 커버하지 않는 KWCAG 고유 요구사항을 전용 룰로 구현했습니다.

### 5.1 skip-nav (반복 영역 건너뛰기)

| 항목 | 내용 |
|------|------|
| KWCAG | 6.4.1 반복 영역 건너뛰기 |
| 점검 내용 | 페이지 시작 부분에 본문(main) 영역으로 건너뛰는 링크 존재 여부 |
| 구현 | `a[href^="#"]` 링크 중 main/content 영역을 가리키는 링크 탐지 |
| 심각도 | error |

```html
<!-- 통과 -->
<a href="#main-content">본문 바로가기</a>
...
<main id="main-content">...</main>

<!-- 위반 -->
<body>
  <nav>...</nav>  <!-- 건너뛰기 링크 없음 -->
  <main>...</main>
</body>
```

### 5.2 auto-play (자동 재생 금지)

| 항목 | 내용 |
|------|------|
| KWCAG | 5.4.2 자동 재생 금지 |
| 점검 내용 | video/audio autoplay(muted 아닌 경우), iframe 자동재생 URL |
| 구현 | `video[autoplay]:not([muted])`, `audio[autoplay]`, iframe src에 `autoplay=1` |
| 심각도 | error |

```html
<!-- 위반 -->
<video autoplay src="intro.mp4"></video>
<iframe src="https://youtube.com/embed/xxx?autoplay=1"></iframe>

<!-- 통과 -->
<video autoplay muted src="intro.mp4"></video>
```

### 5.3 blink-flash (깜빡임과 번쩍임)

| 항목 | 내용 |
|------|------|
| KWCAG | 6.3.1 깜빡임과 번쩍임 사용 제한 |
| 점검 내용 | `<blink>`, `<marquee>` 태그, CSS 애니메이션 주기 3~50Hz, text-decoration:blink |
| 구현 | 태그 존재 + computedStyle에서 animationDuration 계산 |
| 심각도 | error |

### 5.4 page-title (제목 제공)

| 항목 | 내용 |
|------|------|
| KWCAG | 6.4.2 제목 제공 |
| 점검 내용 | `<title>` 비어 있음, iframe에 title 속성 누락, 제목 수준(h1~h6) 건너뛰기 |
| 구현 | document.title 검사 + iframe title + heading level 순서 검증 |
| 심각도 | error |

### 5.5 table-structure (표의 구성)

| 항목 | 내용 |
|------|------|
| KWCAG | 5.3.1 표의 구성 |
| 점검 내용 | 데이터 테이블에 `<caption>` 누락, `<th>`에 scope 속성 누락 |
| 구현 | layout 테이블(role=presentation) 제외, th가 있는 테이블에서 caption/scope 검사 |
| 심각도 | warning |

### 5.6 lang-attr (기본 언어 표시)

| 항목 | 내용 |
|------|------|
| KWCAG | 7.1.1 기본 언어 표시 |
| 점검 내용 | `<html>` 태그에 lang 속성 누락 또는 유효하지 않은 언어 코드 |
| 구현 | lang 존재 여부 + ISO 639 기반 유효성 검증 (ko, en, ja, zh 등 20+ 코드) |
| 심각도 | error |

### 5.7 link-text (적절한 링크 텍스트)

| 항목 | 내용 |
|------|------|
| KWCAG | 6.4.3 적절한 링크 텍스트 |
| 점검 내용 | "여기", "클릭", "더보기", "here", "click here" 등 모호한 링크 텍스트 |
| 구현 | 14개 한국어/영어 모호 패턴 정규식 매칭 |
| 심각도 | warning |

### 5.8 on-input (사용자 요구에 따른 실행)

| 항목 | 내용 |
|------|------|
| KWCAG | 7.2.1 사용자 요구에 따른 실행 |
| 점검 내용 | select onchange에서 자동 submit/location 이동, input onchange/onfocus/onblur에서 submit |
| 구현 | 인라인 이벤트 핸들러 문자열에서 submit/location/window.open 패턴 탐지 |
| 심각도 | error |

### 5.9 focus-visible (초점 이동과 표시)

| 항목 | 내용 |
|------|------|
| KWCAG | 6.1.2 초점 이동과 표시 |
| 점검 내용 | CSS에서 `:focus { outline: none }` (대체 표시 없이), tabindex 양수 사용 |
| 구현 | cssRules 순회하여 outline:none + boxShadow/border 없음 탐지, tabindex > 0 경고 |
| 심각도 | warning |

---

## 6. 실제 공공기관 점검 결과

2025년 2월, 주요 공공기관 웹사이트를 대상으로 ARIA 자동 점검을 수행한 결과입니다.

### 6.1 점검 결과 요약

| 사이트 | URL | 준수율 | 위반 수 | 주요 위반 |
|--------|-----|--------|---------|----------|
| 행정안전부 | mois.go.kr | 42.4% | 3 | 조작 가능, 제목 제공, 초점 표시 |
| 대한민국 정부 | korea.kr | 36.4% | 5 | 명도 대비, 반복 영역, 조작, ARIA |
| 국세청 | nts.go.kr | 33.3% | 6 | 명도 대비, 조작, 초점, 대체 텍스트 |
| 교육부 | moe.go.kr | 33.3% | 5 | 대체 텍스트, 조작, ARIA, 초점 |
| 국회 | assembly.go.kr | 24.2% | 8 | 명도 대비, 키보드, 초점, 링크 텍스트 |
| 경찰청 | police.go.kr | 33.3% | 5 | 키보드, 초점, 링크 텍스트, 조작 |
| 서울시 | seoul.go.kr | 36.4% | 6 | 명도 대비, 조작, 초점, 제목 수준 |

### 6.2 공통 위반 패턴 분석

| 위반 항목 | KWCAG | 발생 빈도 | 원인 |
|----------|-------|----------|------|
| 텍스트 명도 대비 | 5.4.3 | 7/7 사이트 | 디자인 가이드에 접근성 미반영 |
| 조작 가능 (터치 영역) | 6.1.3 | 7/7 사이트 | 44x44px 미만 클릭 영역 |
| 초점 이동과 표시 | 6.1.2 | 6/7 사이트 | outline:none 스타일, tabindex 남용 |
| ARIA 속성 오류 | 8.2.1 | 4/7 사이트 | 잘못된 aria-role, aria-* 속성 |
| 반복 영역 건너뛰기 | 6.4.1 | 3/7 사이트 | skip-navigation 링크 누락 |

### 6.3 시사점

- 자동 점검 기준 평균 준수율 **34.1%** → 주요 공공기관도 대폭 개선 필요
- **명도 대비(5.4.3)**와 **터치 영역(6.1.3)**은 전 사이트 공통 위반 → 디자인 단계부터 반영 필요
- ARIA는 자동 점검 가능한 15항목 기준이며, 수동 점검 포함 시 준수율은 더 낮을 수 있음
- 정기적 자동 점검으로 회귀(regression) 방지가 필수

---

## 7. 아키텍처

```
┌──────────────────────────────────────────────────┐
│                   CLI (Commander.js)               │
│     scan <url>  |  crawl <url>  |  report  |  rules│
└───────┬───────────────┬───────────────┬───────────┘
        │               │               │
        v               v               v
┌──────────────┐ ┌──────────────┐ ┌──────────────┐
│   Scanner    │ │   Crawler    │ │   Reporter   │
│ (단일 페이지) │ │ (사이트 전체) │ │ Excel/HTML/  │
│              │ │ BFS 크롤링   │ │ JSON 생성    │
└──────┬───────┘ └──────┬───────┘ └──────────────┘
       │                │
       v                v
┌──────────────────────────────┐
│     Puppeteer-core           │
│   (시스템 Chrome 사용)        │
│                              │
│  1. 페이지 로드              │
│  2. axe-core 주입 + 실행     │
│  3. KWCAG 매핑               │
│  4. 9개 커스텀 룰 실행       │
│  5. 결과 통합                │
└──────────────┬───────────────┘
               │
               v
┌──────────────────────────────┐
│     axe-core (v4.8+)         │
│  80+ WCAG 룰 실행            │
│  violations / passes /       │
│  incomplete / inapplicable   │
└──────────────────────────────┘
        +
┌──────────────────────────────┐
│   9개 커스텀 룰 (TypeScript)  │
│  KWCAG 특화 검사 실행         │
└──────────────────────────────┘
        │
        v
┌──────────────────────────────┐
│   KWCAG 매핑 테이블           │
│  axe rule ID → KWCAG 번호    │
│  33항목 × 원칙/이름/설명      │
└──────────────────────────────┘
        │
        v
┌──────────────────────────────┐
│   SQLite (sql.js WASM)       │
│  scans / violations / crawls │
└──────────────────────────────┘
```

### 핵심 설계 원칙

| 원칙 | 설명 |
|------|------|
| axe-core 위임 | WCAG 국제 표준 검사는 axe-core(업계 표준 엔진)에 위임하여 정확도 보장 |
| 커스텀 룰 분리 | KWCAG 한국 특화 항목만 별도 TypeScript 룰로 구현 |
| KWCAG 매핑 계층 | axe-core 룰 ID → KWCAG 번호 매핑을 별도 계층으로 분리하여 유지보수 용이 |
| 브라우저 실행 | 실제 Chrome에서 렌더링하여 CSS computed style, ARIA 속성 등 정확한 DOM 분석 |
| 단일 바이너리 | Bun compile로 런타임 의존성 제거, USB 배포 가능 |

---

## 8. 리포트 형식

### 8.1 Excel 리포트 (감리 납품물)

3개 시트로 구성된 감리 납품용 Excel 파일을 자동 생성합니다.

**시트 1 — 요약**

| 항목 | 값 |
|------|-----|
| 대상 URL | https://www.example.go.kr |
| 점검 일시 | 2025-02-15 14:30:00 |
| 소요 시간 | 2.1초 |
| 전체 준수율 | 42.4% (14/33) |
| 인식의 용이성 | 4/9 (44.4%) |
| 운용의 용이성 | 4/15 (26.7%) |
| 이해의 용이성 | 4/7 (57.1%) |
| 견고성 | 2/2 (100.0%) |

**시트 2 — 상세 위반 내용**

| KWCAG | 항목명 | 심각도 | 룰 ID | 위반 수 | 대상 HTML |
|-------|--------|--------|-------|---------|----------|
| 5.1.1 | 대체 텍스트 | error | image-alt | 3 | `<img src="banner.jpg">` |
| 5.4.3 | 명도 대비 | error | color-contrast | 12 | `<p style="color:#999">` |
| ... | ... | ... | ... | ... | ... |

**시트 3 — KWCAG 2.2 체크리스트**

| KWCAG | 검사항목 | 원칙 | 결과 |
|-------|--------|------|------|
| 5.1.1 | 적절한 대체 텍스트 제공 | 인식의 용이성 | X (위반) |
| 5.2.1 | 자막 제공 | 인식의 용이성 | - (해당없음) |
| 5.3.1 | 표의 구성 | 인식의 용이성 | O (통과) |
| ... | ... | ... | ... |

### 8.2 HTML 리포트

브라우저에서 열람 가능한 스타일링된 HTML 리포트를 생성합니다.
원칙별 준수율 차트, 위반 항목 상세, 대상 HTML 코드 스니펫을 포함합니다.

### 8.3 JSON 리포트

외부 도구 연동용 구조화된 JSON을 출력합니다.
CI/CD 파이프라인, 대시보드, 모니터링 시스템과 연동에 적합합니다.

---

## 9. 실행 예시

### 9.1 단일 페이지 점검

```bash
# 기본 스캔
./aria scan https://www.example.go.kr

# 상세 위반 내용 포함
./aria scan https://www.example.go.kr --verbose

# JSON 결과 저장
./aria scan https://www.example.go.kr -o result.json

# DB 저장
./aria scan https://www.example.go.kr --db scan.db
```

**출력 예시:**
```
ARIA - KWCAG 2.2 웹 접근성 점검 결과
Target: https://www.example.go.kr
Time: 2.1s

=== 요약 ===
전체 준수율: 42.4% (14/33 항목 통과)

  인식의 용이성: 4/9 (44.4%)
  운용의 용이성: 4/15 (26.7%)
  이해의 용이성: 4/7 (57.1%)
  견고성: 2/2 (100.0%)

=== 위반 항목 (5건) ===
| KWCAG   | 항목명              | 심각도  | 위반 수 |
|---------|--------------------|---------|----|
| 5.1.1   | 적절한 대체 텍스트   | 오류    | 3  |
| 5.4.3   | 텍스트 명도 대비     | 오류    | 12 |
| 6.1.2   | 초점 이동과 표시     | 경고    | 2  |
| 6.1.3   | 조작 가능           | 오류    | 8  |
| 6.4.1   | 반복 영역 건너뛰기   | 오류    | 1  |
```

### 9.2 사이트 전체 크롤링 점검

```bash
# 전체 크롤링 (깊이 3, 최대 50페이지)
./aria crawl https://www.example.go.kr --depth 3 --max-pages 50

# 병렬 스캔 (3개 동시)
./aria crawl https://www.example.go.kr --depth 3 --concurrency 3

# 결과 저장
./aria crawl https://www.example.go.kr --depth 3 -o crawl-result.json
```

### 9.3 리포트 생성

```bash
# Excel 감리 납품물
./aria report -f excel -o accessibility-report.xlsx --db scan.db

# HTML 리포트
./aria report -f html -o report.html --db scan.db

# JSON 리포트
./aria report -f json -o report.json --db scan.db
```

### 9.4 CI/CD 연동

```bash
# 위반 0건이어야 빌드 통과
./aria scan https://staging.example.go.kr --ci --threshold 0

# 위반 5건까지 허용
./aria scan https://staging.example.go.kr --ci --threshold 5
```

```yaml
# GitHub Actions 예시
- name: Accessibility Check
  run: |
    ./aria scan ${{ env.STAGING_URL }} --ci --threshold 0
```

### 9.5 정기 모니터링

```bash
# crontab: 매주 월요일 09:00 자동 점검
0 9 * * 1 /opt/aria/aria crawl https://www.agency.go.kr \
  --depth 2 --max-pages 30 -o /var/reports/a11y-$(date +\%Y\%m\%d).json
```

### 9.6 룰 목록 확인

```bash
# 전체 33항목 목록
./aria rules list

# 원칙별 필터
./aria rules list --principle 1    # 인식의 용이성만
./aria rules list --principle 2    # 운용의 용이성만
```

---

## 10. 기술 사양

| 항목 | 사양 |
|------|------|
| 언어 | TypeScript 5.x |
| 런타임 | Bun (단일 바이너리) / Node.js 20+ (개발) |
| 바이너리 크기 | 59MB (axe-core + puppeteer-core + sql.js 포함) |
| 접근성 엔진 | axe-core 4.8+ (80+ WCAG 룰) |
| 커스텀 룰 | 9개 TypeScript 룰 |
| 브라우저 | Puppeteer-core (시스템 Chrome/Chromium 사용) |
| 데이터베이스 | sql.js (WASM SQLite, 네이티브 의존성 없음) |
| 리포트 | ExcelJS (xlsx) / HTML / JSON |
| 테스트 | 69개 (unit 54 + scanner 10 + fixture 5) |
| OS 지원 | macOS, Linux, Windows |
| 오프라인 | 완전 지원 (Chrome 설치 필요) |
| CI/CD | `--ci` 모드, exit code 0/1 |

### 요구사항

| 항목 | 최소 | 권장 |
|------|------|------|
| Chrome/Chromium | 설치되어 있어야 함 | 최신 버전 |
| 메모리 | 512MB | 1GB |
| 디스크 | 100MB | 200MB |
| 네트워크 | 점검 대상 사이트 접근 가능 | - |

---

## 11. 도입 효과

### 감리 업체

| 항목 | 기존 (수작업/위탁) | ARIA 도입 후 |
|------|-------------------|-------------|
| 1개 사이트 점검 | 2~5일 (수동) | 수 분 (자동) |
| 50페이지 크롤링 | 반나절~1일 | 3~5분 |
| 리포트 작성 | 수작업 반나절 | 자동 생성 (초 단위) |
| 정기 재점검 | 건당 비용 | 무제한 반복 |
| 전문 인력 | 접근성 전문가 필요 | CLI 실행 가능한 인력 |
| 감리 납품물 | Word/Excel 수작업 | Excel 3시트 자동 |

### 개발팀

| 항목 | 기존 | ARIA 도입 후 |
|------|------|-------------|
| 접근성 테스트 | 출시 직전 일괄 | 개발 중 매일 자동 |
| 회귀 방지 | 수동 재점검 | CI/CD 자동 게이트 |
| 위반 수정 | 출시 후 대규모 패치 | 개발 중 즉시 수정 |
| 비용 | 외부 위탁 300~500만원 | 자체 도구 |

### 비용 절감 시뮬레이션

| 시나리오 | 기존 비용 | ARIA | 절감 |
|----------|----------|------|------|
| WA 인증 사전 스크리닝 (연 1회) | 400만원 (위탁) | 사전 자동 점검으로 수동 범위 50% 축소 | 200만원 |
| 개발 중 접근성 점검 (월 4회) | 인력 160시간/년 | CLI 자동화 10시간/년 | 150시간 |
| 다중 사이트 관리 (10개 사이트) | 4,000만원/년 | 단일 도구 무제한 | 3,500만원+ |

---

## 12. ARIA를 선택해야 하는 이유

| 강점 | 설명 |
|------|------|
| **KWCAG 2.2 전체 대응** | 국제 표준(WCAG)이 아닌 한국 표준(KWCAG) 33항목 전체 매핑 |
| **단일 바이너리** | 59MB 실행 파일 하나, Node.js/npm 설치 불필요 |
| **사이트 전체 자동 스캔** | 크롤링 + 페이지별 스캔을 한 명령어로 |
| **감리 납품물 자동** | Excel 3시트 리포트 자동 생성 |
| **한국 특화 9개 룰** | 건너뛰기, 자동재생, 표 구성 등 KWCAG 고유 항목 |
| **완전 오프라인** | 폐쇄망 환경, 보안 민감 사이트 점검 가능 |
| **CI/CD 연동** | 빌드 파이프라인에 접근성 게이트 추가 |
| **데이터 소유권** | 로컬 실행, 외부 서버 전송 없음 |
| **실제 검증** | 7개 공공기관 사이트 점검 완료 |

### 경쟁 도구가 유리한 경우

| 도구 | 유리한 경우 |
|------|-----------|
| OpenWAX | 간단한 1~2페이지 수동 확인 |
| WAVE | 영어권 WCAG 기준 점검이 필요한 경우 |
| Lighthouse | 성능/SEO/접근성 종합 점수가 필요한 경우 |
| 전문 업체 | 수동 점검 33항목 전수 검사 + WA 인증 발급이 필요한 경우 |

---

## 13. 도입 시나리오

### 13.1 감리 현장 투입

```
1. USB로 aria 바이너리 배포
2. ./aria crawl https://target.go.kr --depth 3 --max-pages 50
3. ./aria report -f excel -o kwcag-report.xlsx
4. Excel 리포트를 감리 납품물에 첨부
```

### 13.2 개발팀 CI/CD 통합

```
1. aria 바이너리를 CI 서버에 배치
2. 빌드 파이프라인에 접근성 점검 단계 추가
3. staging 배포 후 자동 스캔
4. 위반 발견 시 빌드 실패 → 개발자가 즉시 수정
```

### 13.3 WA 인증 사전 준비

```
1. ARIA로 자동 점검 실행
2. 자동 수정 가능한 위반 사항 해결 (alt 텍스트, lang 속성, 명도 대비 등)
3. 커스텀 룰 위반 해결 (건너뛰기 링크, 자동재생 등)
4. 수동 점검 항목 3개만 전문가에게 위탁
5. WA 인증 비용 30~50% 절감
```

### 13.4 다중 사이트 정기 모니터링

```
1. crontab으로 매주/매월 자동 점검 설정
2. JSON 결과를 대시보드/Slack에 연동
3. 준수율 변화 추이 모니터링
4. 회귀(regression) 발생 시 즉시 알림
```

---

> ARIA는 KWCAG 2.2 전체 33항목을 자동으로 점검하고,
> 감리 납품물을 자동 생성하며, CI/CD 파이프라인에 연동할 수 있는
> 한국 웹 접근성 점검 전용 도구입니다.
>
> **단일 바이너리, 완전 오프라인, 한국 표준 특화.**

```bash
./aria scan https://www.example.go.kr
```
